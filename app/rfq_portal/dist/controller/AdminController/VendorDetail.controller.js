sap.ui.define(["rfqportal/controller/BaseController","sap/m/MessageToast","sap/ui/model/Filter","sap/ui/model/FilterOperator"],(t,e,n,i)=>{"use strict";return t.extend("rfqportal.controller.VendorDetail",{onInit(){this.getView().attachAfterRendering(this._onAfterRendering,this)},_onAfterRendering(){const t=this.getView().getBindingContext();if(t){const e=t.getProperty("ID");if(e){this._loadVendorRFQs(e)}}},onBeforeShow(){const t=this.getView().getBindingContext();if(t){const e=t.getProperty("ID");if(e){this._loadVendorRFQs(e)}}},setBindingContext(t){if(this.getView().setBindingContext){this.getView().setBindingContext(t)}if(t){const e=t.getProperty("ID");if(e){this._loadVendorRFQs(e)}}},_loadVendorRFQs(t){const e=this.byId("vendorRFQsTable");if(e){e.unbindItems();e.bindItems({path:"/VendorRFQs",filters:[new n("supplier_id_ID",i.EQ,t)],template:new sap.m.ColumnListItem({press:this.onRFQPress.bind(this),type:"Navigation",cells:[new sap.m.Text({text:"{rfqId}"}),new sap.m.Text({text:"{rfqTitle}"}),new sap.m.ObjectStatus({text:"{rfqStatus}",state:{path:"rfqStatus",formatter:this.formatStatusState.bind(this)}}),new sap.m.Link({text:"View Details",press:this.onViewRFQQuotations.bind(this)})]})})}},onRFQPress(t){const n=t.getSource().getBindingContext();if(n){const t=n.getProperty("rfqId");e.show(`Navigate to RFQ: ${t}`)}},onViewRFQQuotations(t){const n=t.getSource().getBindingContext();if(n){const t=n.getProperty("rfqId");const i=n.getProperty("supplier_id_ID");e.show(`Loading quotations for RFQ ${t}`)}},getInitials(t){if(!t)return"";const e=t.split(" ");return e.map(t=>t.charAt(0)).join("").substr(0,2).toUpperCase()},onEdit(){e.show("Edit functionality not implemented yet")},onDelete(){const t=this.getView().getBindingContext();if(t){const n=t.getProperty("name");e.show(`Delete vendor: ${n} - Not implemented yet`)}},onContact(){const t=this.getView().getBindingContext();if(t){const n=t.getProperty("email");if(n){window.open(`mailto:${n}`,"_blank")}else{e.show("No email address found")}}},handleClose(){const t=this.getView().getParent();if(t&&t.getController&&t.getController().onCloseDetail){t.getController().onCloseDetail()}else{let t=this.getView().getParent();while(t&&!t.isA("sap.f.FlexibleColumnLayout")){t=t.getParent()}if(t){t.setLayout("OneColumn")}}}})});
//# sourceMappingURL=VendorDetail.controller.js.map