<mvc:View displayBlock="true" controllerName="rfqportal.controller.AdminController.VendorDetail" height="100%"
    xmlns:uxap="sap.uxap"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:m="sap.m"
    xmlns:f="sap.f"
    xmlns:form="sap.ui.layout.form">

    <uxap:ObjectPageLayout id="ObjectPageLayout" showTitleInHeaderContent="true" alwaysShowContentHeader="false" preserveHeaderStateOnScroll="false" headerContentPinnable="true" isChildPage="true" upperCaseAnchorBar="false">

        <uxap:headerTitle>
            <uxap:ObjectPageDynamicHeaderTitle>
                <uxap:expandedHeading>
                    <m:Title text="{name}" wrapping="true" class="sapUiSmallMarginEnd"/>
                </uxap:expandedHeading>

                <uxap:snappedHeading>
                    <m:HBox wrap="NoWrap" alignItems="Center" class="sapUiTinyMarginEnd">
                        <m:Avatar initials="{parts: ['name'], formatter: '.getInitials'}" displaySize="S" displayShape="Circle" class="sapUiTinyMarginEnd"/>
                        <m:VBox wrap="Wrap">
                            <m:Title text="{name}" wrapping="true" />
                            <m:Label text="{ID}" wrapping="true" />
                        </m:VBox>
                    </m:HBox>
                </uxap:snappedHeading>

                <uxap:navigationActions>
                    <m:OverflowToolbarButton type="Transparent" icon="sap-icon://decline" press="handleClose" tooltip="Close vendor details"/>
                </uxap:navigationActions>

                <uxap:actions>
                    <m:Button text="Edit" type="Emphasized" press="onEdit"/>
                    <m:Button text="Delete" type="Transparent" press="onDelete"/>
                    <m:Button text="Contact" type="Transparent" press="onContact"/>
                    <m:Button icon="sap-icon://action" type="Transparent"/>
                </uxap:actions>

            </uxap:ObjectPageDynamicHeaderTitle>
        </uxap:headerTitle>

        <uxap:headerContent>
            <m:FlexBox wrap="Wrap" fitContainer="true" alignItems="Stretch">
                <m:Avatar initials="{parts: ['name'], formatter: '.getInitials'}" displaySize="L" displayShape="Circle" class="sapUiTinyMarginEnd">
                </m:Avatar>
                <m:VBox justifyContent="Center" class="sapUiSmallMarginEnd">
                    <m:Label text="Vendor ID"/>
                    <m:Text text="{ID}"/>
                </m:VBox>
                <m:VBox justifyContent="Center" class="sapUiSmallMarginEnd">
                    <m:Label text="Country"/>
                    <m:Text text="{country}"/>
                </m:VBox>
                <m:VBox justifyContent="Center" class="sapUiSmallMarginEnd">
                    <m:Label text="Status"/>
                    <m:ObjectStatus text="{status}" state="Success"/>
                </m:VBox>
                <m:VBox justifyContent="Center" class="sapUiSmallMarginEnd">
                    <m:Label text="Email"/>
                    <m:Link text="{email}" href="mailto:{email}"/>
                </m:VBox>
            </m:FlexBox>
        </uxap:headerContent>

        <uxap:sections>
            <uxap:ObjectPageSection title="General Information">
                <uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <uxap:blocks>
                            <form:SimpleForm maxContainerCols="2" editable="false" layout="ResponsiveGridLayout" labelSpanL="12" labelSpanM="12" emptySpanL="0" emptySpanM="0" columnsL="1" columnsM="1">
                                <form:content>
                                    <m:Label text="Vendor ID"/>
                                    <m:Text text="{ID}"/>
                                    <m:Label text="Company Name"/>
                                    <m:Text text="{name}"/>
                                    <m:Label text="Email Address"/>
                                    <m:Link text="{email}" href="mailto:{email}"/>
                                    <m:Label text="Country"/>
                                    <m:Text text="{country}"/>
                                    <m:Label text="Status"/>
                                    <m:ObjectStatus text="{status}" state="Success"/>
                                    <m:Label text="Registration Date"/>
                                    <m:Text text="{path: 'created_at', formatter: '.formatDate'}"/>
                                </form:content>
                            </form:SimpleForm>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>

            <uxap:ObjectPageSection title="RFQs &amp; Quotations">
                <uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <uxap:blocks>
                            <m:Table id="vendorRFQsTable" growing="true" growingThreshold="20">
                                <m:columns>
                                    <m:Column>
                                        <m:Text text="RFQ ID"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="Title"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="Status"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="Actions"/>
                                    </m:Column>
                                </m:columns>
                                <m:noData>
                                    <m:Text text="No RFQs found for this vendor"/>
                                </m:noData>
                            </m:Table>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>

            <uxap:ObjectPageSection title="Contact Information">
                <uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <uxap:blocks>
                            <form:SimpleForm maxContainerCols="2" editable="false" layout="ResponsiveGridLayout">
                                <form:content>
                                    <m:Label text="Phone"/>
                                    <m:Text text="{phone}"/>
                                    <m:Label text="Address"/>
                                    <m:Text text="{address}"/>
                                    <m:Label text="TaxCode"/>
                                    <m:Text text="{tax_code}"/>
                                    <m:Label text="Email"/>
                                    <m:Link text="{email}" href="mailto:{email}"/>
                                    <m:Label text="Country"/>
                                    <m:Text text="{country}"/>
                                    <m:Label text="Status"/>
                                    <m:ObjectStatus text="{status}" state="Success"/>
                                </form:content>
                            </form:SimpleForm>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
        </uxap:sections>
    </uxap:ObjectPageLayout>
</mvc:View>